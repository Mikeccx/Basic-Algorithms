<!Doctype>
<html>

<head>
    <title>mergeSort</title>
</head>

<body>
    <script>
        let arr = [3, 2, 1, 1, 2];
        //arr传入的待排序数组
        //归并排序的思路：
        //归并排序主要是通过分治法，将数组分成多个有序的子序列再合并。
        //平均的时间复杂度：O(nlogn)。最坏情况与最坏情况O(nlogn)
        //对于任何类型的数据，任何时候都是稳定的O(nlogn)
        //空间复杂度：需要额外的一个数组储存每次合并的结果：O(n)
        //稳定性：稳定
        //归并排序  从小到大
        let mergeSort = function (arr) {
            let len = arr.length; //数组长度;
            if (len < 2) {   //最少2个数相比
                return arr;
            }
            let middle = Math.floor(len / 2);
            let left = arr.slice(0, middle);
            let right = arr.slice(middle);

            return merge(mergeSort(left), mergeSort(right));
        }
        let merge = function (left, right) {
            let res = [];
            while (left.length > 0 && right.length > 0) { 
                if (left[0] <= right[0])  //组之间比较
                    res.push(left.shift())
                else
                    res.push(right.shift())
            }
            //有组空了
            while (left.length)
                res.push(left.shift());
            while (right.length)
                res.push(right.shift())

            return res;
        }
        

        console.log(mergeSort(arr));
    </script>
</body>

</html>